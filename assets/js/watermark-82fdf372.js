import{X as C,ad as E,ac as W,d as k,a as y,c as g,ab as B,f as b,h as r,w as a,g as _,o as z,B as u,i as d,_ as $}from"./index-640d7e87.js";/* empty css                *//* empty css                  */function h({text:v,targetRef:o}){const l=`water${Math.random().toString().slice(5)}mark`,i=()=>{const t=document.createElement("canvas"),e=t.getContext("2d"),n=t.width/2,f=t.height/2,x=-20,w=document.documentElement.style.getPropertyValue("--el-color-primary");return e.fillStyle=w,e.font="normal 18px Arial",e.textAlign="center",e.textBaseline="middle",e.translate(n,f),e.rotate(x*Math.PI/180),e.fillText(v,0,0),t.toDataURL()},c=()=>{s(),m()},m=()=>{var n;const t=o.value&&o.value.getBoundingClientRect(),e=document.createElement("div");e.className=l,e.style.position="absolute",e.style.zIndex="9",e.style.left="0px",e.style.top="0px",e.style.width=`${t==null?void 0:t.width}px`,e.style.height=`${t==null?void 0:t.height}px`,e.style.pointerEvents="none",e.style.background=`url('${i()}') left top repeat`,(n=o.value)==null||n.appendChild(e),o.value&&(o.value.style.position="relative")},s=()=>{var e;const t=document.querySelector(`.${l}`);t&&((e=o.value)==null||e.removeChild(t))},p=()=>{document.querySelector(`.${l}`)&&c()};return C(()=>{window.addEventListener("resize",E(p,500))}),W(()=>{s(),window.removeEventListener("resize",p)}),{renderWatermark:c,removeWatermark:s}}const N=_("br",null,null,-1),S=_("br",null,null,-1),V=k({name:"watermark"}),q=k({...V,setup(v){const o=y(),l=y(document.querySelector("body")),{renderWatermark:i,removeWatermark:c}=h({text:"watermark",targetRef:o}),{renderWatermark:m,removeWatermark:s}=h({text:"mz-vue3-admin",targetRef:l});return(p,t)=>{const e=g,n=B;return z(),b("div",null,[r(n,{shadow:"hover"},{default:a(()=>[r(e,{type:"primary",onClick:u(i)},{default:a(()=>[d("\u76D2\u5B50\u6C34\u5370")]),_:1},8,["onClick"]),r(e,{type:"primary",onClick:u(c)},{default:a(()=>[d("\u5220\u9664\u6C34\u5370")]),_:1},8,["onClick"])]),_:1}),N,r(n,{shadow:"hover"},{default:a(()=>[r(e,{type:"primary",onClick:u(m)},{default:a(()=>[d("\u9879\u76EE\u6C34\u5370 ")]),_:1},8,["onClick"]),r(e,{type:"primary",onClick:u(s)},{default:a(()=>[d("\u5220\u9664\u6C34\u5370 ")]),_:1},8,["onClick"])]),_:1}),S,r(n,{shadow:"hover"},{default:a(()=>[_("div",{"h-300px":"",ref_key:"targetRef",ref:o},null,512)]),_:1})])}}}),D=$(q,[["__file","/home/runner/work/mz-vue3-admin/mz-vue3-admin/src/views/other/watermark.vue"]]);export{D as default};
